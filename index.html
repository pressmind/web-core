
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>pressmind® web-core SDK API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen-37cdb511.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-bccf8c07.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-c5541673.js"></script>
  </head>

  <body class="index" data-languages="[&quot;php&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <div class="logo-wrapper">
        <img src="images/logo-a34120ef.svg" class="logo" alt="Logo" />
        <h3>pressmind®<br>web-core<br>SDK</h3>
      </div>
        <div class="lang-selector">
              <a href="#" data-language-name="php">Example Code</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#pressmind-web-core-sdk" class="toc-h1 toc-link" data-title="pressmind® web-core SDK">pressmind® web-core SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#system-requirements" class="toc-h2 toc-link" data-title="System Requirements">System Requirements</a>
                  </li>
                  <li>
                    <a href="#quickstart" class="toc-h2 toc-link" data-title="Quickstart">Quickstart</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#media-objects" class="toc-h1 toc-link" data-title="Media Objects">Media Objects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#media-object-types" class="toc-h2 toc-link" data-title="Media Object Types">Media Object Types</a>
                  </li>
                  <li>
                    <a href="#loading-media-objects" class="toc-h2 toc-link" data-title="Loading Media Objects">Loading Media Objects</a>
                  </li>
                  <li>
                    <a href="#rendering-media-objects" class="toc-h2 toc-link" data-title="Rendering Media Objects">Rendering Media Objects</a>
                  </li>
                  <li>
                    <a href="#working-with-basic-data" class="toc-h2 toc-link" data-title="Working with Basic Data">Working with Basic Data</a>
                  </li>
                  <li>
                    <a href="#working-with-touristic-data" class="toc-h2 toc-link" data-title="Working with Touristic Data">Working with Touristic Data</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#touristic-data" class="toc-h1 toc-link" data-title="Touristic Data">Touristic Data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#intoduction" class="toc-h2 toc-link" data-title="Intoduction">Intoduction</a>
                  </li>
                  <li>
                    <a href="#the-quot-cheapest-price-quot" class="toc-h2 toc-link" data-title="The "Cheapest Price"">The "Cheapest Price"</a>
                  </li>
                  <li>
                    <a href="#price-mixes" class="toc-h2 toc-link" data-title="Price Mixes">Price Mixes</a>
                  </li>
                  <li>
                    <a href="#booking-packages" class="toc-h2 toc-link" data-title="Booking Packages">Booking Packages</a>
                  </li>
                  <li>
                    <a href="#dates" class="toc-h2 toc-link" data-title="Dates">Dates</a>
                  </li>
                  <li>
                    <a href="#housing-packages" class="toc-h2 toc-link" data-title="Housing Packages">Housing Packages</a>
                  </li>
                  <li>
                    <a href="#housing-options" class="toc-h2 toc-link" data-title="Housing Options">Housing Options</a>
                  </li>
                  <li>
                    <a href="#extras" class="toc-h2 toc-link" data-title="Extras">Extras</a>
                  </li>
                  <li>
                    <a href="#tickets" class="toc-h2 toc-link" data-title="Tickets">Tickets</a>
                  </li>
                  <li>
                    <a href="#sightseeings" class="toc-h2 toc-link" data-title="Sightseeings">Sightseeings</a>
                  </li>
                  <li>
                    <a href="#starting-points" class="toc-h2 toc-link" data-title="Starting Points">Starting Points</a>
                  </li>
                  <li>
                    <a href="#transports" class="toc-h2 toc-link" data-title="Transports">Transports</a>
                  </li>
                  <li>
                    <a href="#pickup-services" class="toc-h2 toc-link" data-title="Pickup Services">Pickup Services</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#search" class="toc-h1 toc-link" data-title="Search">Search</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#parameters" class="toc-h2 toc-link" data-title="Parameters">Parameters</a>
                  </li>
                  <li>
                    <a href="#methods" class="toc-h2 toc-link" data-title="Methods">Methods</a>
                  </li>
                  <li>
                    <a href="#search-conditions" class="toc-h2 toc-link" data-title="Search Conditions">Search Conditions</a>
                  </li>
                  <li>
                    <a href="#fulltext-condition" class="toc-h2 toc-link" data-title="Fulltext Condition">Fulltext Condition</a>
                  </li>
                  <li>
                    <a href="#price-range" class="toc-h2 toc-link" data-title="Price Range">Price Range</a>
                  </li>
                  <li>
                    <a href="#duration-range" class="toc-h2 toc-link" data-title="Duration Range">Duration Range</a>
                  </li>
                  <li>
                    <a href="#date-range" class="toc-h2 toc-link" data-title="Date Range">Date Range</a>
                  </li>
                  <li>
                    <a href="#date-range-2" class="toc-h2 toc-link" data-title="Date Range">Date Range</a>
                  </li>
                  <li>
                    <a href="#category-search" class="toc-h2 toc-link" data-title="Category Search">Category Search</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#the-restfull-api" class="toc-h1 toc-link" data-title="The RESTfull API">The RESTfull API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-result-templates" class="toc-h2 toc-link" data-title="API Result Templates">API Result Templates</a>
                  </li>
                  <li>
                    <a href="#api-endpoint" class="toc-h2 toc-link" data-title="API Endpoint">API Endpoint</a>
                  </li>
                  <li>
                    <a href="#general-api-calls-and-error-handling" class="toc-h2 toc-link" data-title="General API Calls and Error Handling">General API Calls and Error Handling</a>
                  </li>
                  <li>
                    <a href="#mediaobject" class="toc-h2 toc-link" data-title="MediaObject">MediaObject</a>
                  </li>
                  <li>
                    <a href="#categorytree" class="toc-h2 toc-link" data-title="CategoryTree">CategoryTree</a>
                  </li>
                  <li>
                    <a href="#route" class="toc-h2 toc-link" data-title="Route">Route</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://pressmind.io'>&copy; 2020 pressmind </a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='pressmind-web-core-sdk'>pressmind® web-core SDK</h1><h2 id='system-requirements'>System Requirements</h2>
<ul>
<li>PHP 7.*</li>
<li>MySQL or MariaDB</li>
<li>ImageMagick (PHP-Extension) or GD-Lib</li>
<li>cURL</li>
<li>a pressmind® License ;-)</li>
</ul>
<h3 id='pressmind-api-credentials'>pressmind® API Credentials</h3>
<p>You need a pressmind® REST API Access. (API Key, User, Password)
Ask your pressmind® Integration-Manager.</p>
<h2 id='quickstart'>Quickstart</h2>
<blockquote>
<p>Clone the repo</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="gp">$ </span>git clone https://github.com/pressmind/web-core.git
</code></pre>
<blockquote>
<p>Install a database and add a user</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="gp">$ </span>mysql -u root -p;
<span class="gp">mysql&gt; </span>CREATE DATABASE pressmind CHARACTER SET utf8;
<span class="gp">mysql&gt; </span>GRANT ALL ON pressmind.<span class="k">*</span> TO <span class="s1">'username'</span>@<span class="s1">'localhost'</span> IDENTIFIED BY <span class="s1">'password'</span> WITH GRANT OPTION;
</code></pre>
<blockquote>
<p>Add database credentials in config.json</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">//...</span><span class="w"> </span><span class="err">SNIP</span><span class="w"> </span><span class="err">config.json</span><span class="w">
</span><span class="p">{</span><span class="w"> 
    </span><span class="s2">"development"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"database"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yourusername"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yourpassword"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"host"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localhost"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"dbname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yourdatabasename"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mysql"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">//...</span><span class="w"> </span><span class="err">SNAP</span><span class="w">
</span></code></pre>
<blockquote>
<p>Add pressmind API credentials in config.json</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="err">&gt;</span><span class="w"> </span><span class="err">A</span><span class="w"> </span><span class="err">search</span><span class="w"> </span><span class="err">condition</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">generally</span><span class="w"> </span><span class="err">instatiated</span><span class="w"> </span><span class="err">like</span><span class="w"> </span><span class="err">this</span><span class="p">:</span><span class="w">
</span><span class="err">//...</span><span class="w"> </span><span class="err">SNIP</span><span class="w"> </span><span class="err">config.json</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="s2">"development"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"rest"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"client"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"api_endpoint"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://api.pm-t2.com/rest/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yourapikey"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"api_user"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yourapisuername"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"api_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yourapipassword"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span><span class="err">//...</span><span class="w"> </span><span class="err">SNAP</span><span class="w">
</span></code></pre>
<blockquote>
<p>Run the install script</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="gp">your-project-folder/cli$ </span>php install.php
</code></pre><h3 id='1-installation'>1. Installation</h3>
<ul>
<li>clone the repository </li>
<li>create a MySQL database</li>
<li>edit the configuration file config.json</li>
<li>insert your database information under development.database</li>
<li>save the config.json file</li>
<li>on a console move to folder cli and execute install.php</li>
</ul>

<p>This will install the necessary database tables and generate the needed model-definitions for the media object types.<br>
Additionally some basic example php files that show the use of Views are generated in the folder examples/views as well as some html files with information on the installed media object types. You can find these under docs/objecttypes</p>

<blockquote>
<p>Fullimport</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="gp">your-project-folder/cli$ </span>php import.php fullimport
</code></pre>
<blockquote>
<p>Single media object</p>
</blockquote>
<pre class="highlight shell tab-shell"><code><span class="gp">your-project-folder/cli$ </span>php import.php mediaobject 123456
</code></pre><h3 id='2-import-data-from-pressmind'>2. Import data from pressmind®</h3>
<p>To import data from pressmind run the script cli/import.php<br>
To do a fullimport (which is recommended after a fresh install) add the argument fullimport<br>
If You just want to test if everything is working as expected you can import a single media object by adding the argument mediaobject, followed by the media objects ID</p>

<p>Depending on the amount of data that is stored in pressmind, the fullimport can last a while.<br>
For each media object all descriptive and touristic data will be imported into the database. Additionally all related files and images will be downloaded to the folder /assets.</p>
<h3 id='3-search-and-display-data'>3. Search and Display Data</h3>
<p>After the install.php script has been executed, some example files can be found in the examples folder:<br>
The index.php file demonstrates a simple search and will display a list of found data-sets with a link to the detail.php which demonstrates how a media_object can be rendered.<br>
The detail.php will render the information based on the view scripts that can be found in the examples/views folder.</p>
<h1 id='media-objects'>Media Objects</h1><h2 id='media-object-types'>Media Object Types</h2><h2 id='loading-media-objects'>Loading Media Objects</h2><h2 id='rendering-media-objects'>Rendering Media Objects</h2><h2 id='working-with-basic-data'>Working with Basic Data</h2><h2 id='working-with-touristic-data'>Working with Touristic Data</h2><h1 id='touristic-data'>Touristic Data</h1><h2 id='intoduction'>Intoduction</h2><h2 id='the-quot-cheapest-price-quot'>The &quot;Cheapest Price&quot;</h2><h2 id='price-mixes'>Price Mixes</h2><h2 id='booking-packages'>Booking Packages</h2>
<blockquote>
<p>after a <a href="#media-objects">media object</a> has been loaded you can access the booking packages via the $booking_packages property:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$myMediaObject</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">\Pressmind\ORM\Object\MediaObject</span><span class="p">(</span><span class="mi">12345</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$myMediaObject</span><span class="o">-&gt;</span><span class="na">booking_packages</span><span class="p">);</span>
</code></pre>
<blockquote>
<p>JSON representation of the returned array:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4561790</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1264338</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bezaubernde Toskana 7 Tage - Saison"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"order"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price_mix"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date_housing"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_pickupservice"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_insurances_groups"</span><span class="p">:</span><span class="w"> </span><span class="mi">146</span><span class="p">,</span><span class="w">
            </span><span class="s2">"ibe_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"product_type_ibe"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_origin"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pickupservice"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"insurance_group"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"dates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"seasonal_periods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"housing_packages"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w"> </span><span class="err">...</span><span class="w"> </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="err">...</span><span class="w">
        </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>A booking package is the main container for all touristic information stored on a media object. Each media object can have multiple booking packages.<br>
Mainly booking packages differ by the duration of the trip: If a media object consists of three possible durations of a trip (e.g. 3, 7 or 10 days), there will be 3 different booking packages available, one for each duration.
Each booking package contains pickservices, insurance groups, dates or seasonal periods (a booking package can only have dates OR sesonal periods) and housing packges.
Depending on the <a href="#price-mixes">price mix</a>, the booking package can also contain extras, tickets and sightseeings.</p>

<table><thead>
<tr>
<th>Property</th>
<th>Type</th>
<th>Req.</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>integer</td>
<td>x</td>
<td>The ID of the booking package</td>
</tr>
<tr>
<td>id_media_object</td>
<td>integer</td>
<td>x</td>
<td>The ID of the parent media object</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td></td>
<td>The ID of the parent media object</td>
</tr>
<tr>
<td>duration</td>
<td>integer</td>
<td>x</td>
<td>The ID of the parent media object</td>
</tr>
<tr>
<td>order</td>
<td>integer</td>
<td>x</td>
<td>The ID of the parent media object</td>
</tr>
<tr>
<td>url</td>
<td>string</td>
<td></td>
<td>The ID of the parent media object</td>
</tr>
<tr>
<td>text</td>
<td>string</td>
<td></td>
<td>The ID of the parent media object</td>
</tr>
<tr>
<td>price_mix</td>
<td>enum</td>
<td>x</td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>id_pickupservice</td>
<td>integer</td>
<td></td>
<td>The ID of the related Pickupservice</td>
</tr>
<tr>
<td>id_insurance_groups</td>
<td>integer</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>ibe_type</td>
<td>integer</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>product_type_ibe</td>
<td>integer</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>id_origin</td>
<td>integer</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>pickupservice</td>
<td>Pickupservice</td>
<td></td>
<td>The related <a href="#pickup-services">Pickupservice</a></td>
</tr>
<tr>
<td>insurance_group</td>
<td>Insurance\Group</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>dates</td>
<td>Date[]</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>seasonal_periods</td>
<td>SeasonalPeriad[]</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
<tr>
<td>housing_packages</td>
<td>Housing\Package[]</td>
<td></td>
<td>The <a href="#price-mixes">price mix</a> of the booking object (values: &quot;date_housing&quot;, &quot;date_ticket&quot;, &quot;date_extra&quot;, &quot;date_sightseeing&quot;)</td>
</tr>
</tbody></table>
<h2 id='dates'>Dates</h2><h2 id='housing-packages'>Housing Packages</h2><h2 id='housing-options'>Housing Options</h2><h2 id='extras'>Extras</h2><h2 id='tickets'>Tickets</h2><h2 id='sightseeings'>Sightseeings</h2><h2 id='starting-points'>Starting Points</h2><h2 id='transports'>Transports</h2><h2 id='pickup-services'>Pickup Services</h2><h1 id='search'>Search</h1>
<blockquote>
<p>Examplecode for a search object</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
            <span class="c1">//Search Conditions
</span>            <span class="p">[</span>
                <span class="s1">'priceRange'</span> <span class="o">=&gt;</span> <span class="nx">PriceRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
                    <span class="mi">0</span><span class="p">,</span>
                    <span class="mi">5000</span>
                <span class="p">),</span>
                <span class="s1">'durationRange'</span> <span class="o">=&gt;</span> <span class="nx">DurationRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
                    <span class="mi">0</span><span class="p">,</span>
                    <span class="mi">21</span>
                <span class="p">),</span>
                <span class="s1">'fulltext'</span> <span class="o">=&gt;</span> <span class="nx">Fulltext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
                    <span class="s1">'foo, bar, baz'</span><span class="p">,</span>
                    <span class="p">[</span>
                        <span class="s1">'zielgebiet_default'</span><span class="p">,</span>
                        <span class="s1">'code'</span><span class="p">,</span>
                        <span class="s1">'headline_default'</span><span class="p">,</span>
                        <span class="s1">'leistungen_default'</span><span class="p">,</span>
                        <span class="s1">'subline_default'</span><span class="p">,</span>
                        <span class="s1">'beschreibung_text_default'</span>
                    <span class="p">],</span>
                    <span class="s1">'OR'</span>
                <span class="p">)</span>
            <span class="p">],</span>
            <span class="c1">// Limits
</span>            <span class="p">[</span>
                <span class="s1">'start'</span> <span class="o">=&gt;</span> <span class="mi">0</span><span class="p">,</span>
                <span class="s1">'length'</span> <span class="o">=&gt;</span> <span class="mi">100</span>
            <span class="p">],</span>
            <span class="c1">// Sort properties
</span>            <span class="p">[</span>
                <span class="s1">'price'</span> <span class="o">=&gt;</span> <span class="s1">'ASC'</span>
            <span class="p">]</span>
        <span class="p">);</span>

<span class="nv">$search</span><span class="o">-&gt;</span><span class="na">addCondition</span><span class="p">(</span><span class="s1">'dateRange'</span><span class="p">,</span> <span class="nx">DateRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="k">new</span> <span class="nx">DateTime</span><span class="p">(),</span> <span class="p">(</span><span class="k">new</span> <span class="nx">DateTime</span><span class="p">())</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">DateInterval</span><span class="p">(</span><span class="s1">'P10D'</span><span class="p">))));</span>

<span class="nv">$mediaObjects</span> <span class="o">=</span> <span class="nv">$search</span><span class="o">-&gt;</span><span class="na">getResults</span><span class="p">();</span> <span class="c1">// Will return an array of \Pressmind\ORM\Object\MediaObject
</span>
<span class="k">foreach</span><span class="p">(</span><span class="nv">$mediaObjects</span> <span class="k">as</span> <span class="nv">$mediaObject</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$mediaObject</span><span class="o">-&gt;</span><span class="na">toStdClass</span><span class="p">());</span>
<span class="p">}</span>

</code></pre>
<p><strong>Class:</strong> \Pressmind\Search
<strong>Package:</strong> Search</p>

<p><a href="https://pressmind.io/docs/web-framework/core/php-doc/search">PHPdoc for \Pressmind\Search\Condition\Fulltext</a></p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Req.</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>conditions</td>
<td>ConditionInterface[]</td>
<td></td>
<td>Array of conditions (implementing the ConditionInterface)</td>
</tr>
<tr>
<td>limits</td>
<td>array</td>
<td></td>
<td>[&#39;start&#39; =&gt; <start_index>, &#39;length =&gt; <number_of_results>]</td>
</tr>
<tr>
<td>sort_properties</td>
<td>array</td>
<td></td>
<td>[&#39;<property_name>&#39;, &#39;<sort direction (ASC, DESC, RAND())>]</td>
</tr>
</tbody></table>
<h3 id='methods'>Methods</h3>
<p><strong>addCondition($name, $condition);</strong>
Programatically add a SearchCondition</p>

<p><strong>setLimits($limits);</strong>
Programatically set the limits</p>

<p><strong>setSortProperties($sort_properties);</strong>
Programatically set the soring</p>

<p><strong>setPaginator($paginatorObject);</strong>
Set a Paginator</p>

<p><strong>getPaginator();</strong>
Get the Paginator, returns a Pressmind\Search\Paginator object</p>

<p><strong>getTotalResultCount();</strong>
Get the total count of results of the search (will bypass paginator)</p>

<p><strong>getResults($loadFull = false);</strong>
Get all results from search, returns a Pressmind\Search\Result object </p>
<h2 id='search-conditions'>Search Conditions</h2>
<blockquote>
<p>A search condition is generally instatiated like this:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
  <span class="nx">\Pressmind\Search\SearchCondition</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="nv">$param1</span><span class="p">,</span> <span class="nv">$param2</span><span class="p">);</span>
</code></pre>
<p>skdk sadk ksakd ö skd ösak döska söakdösad</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Explicit to</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>idmo</td>
<td></td>
<td>ID Media Object</td>
<td>The ID of the Pressmind Media Object</td>
</tr>
<tr>
<td>idbp</td>
<td></td>
<td>ID Booking Package</td>
<td>The ID of the Pressmind Media Object</td>
</tr>
<tr>
<td>idhp</td>
<td></td>
<td>ID Housing Package</td>
<td>The ID of the Pressmind Media Object</td>
</tr>
<tr>
<td>idd</td>
<td>ids</td>
<td>ID Date</td>
<td>The ID of the Pressmind Touristic Date</td>
</tr>
<tr>
<td>idsp</td>
<td>idd</td>
<td>ID Season</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
<tr>
<td>ido</td>
<td>idho</td>
<td>ID Option</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
<tr>
<td>idho</td>
<td>ido</td>
<td>ID Housing Option</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
<tr>
<td>t</td>
<td></td>
<td>Type</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
<tr>
<td>df</td>
<td>idd</td>
<td>ID Option</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
<tr>
<td>dt</td>
<td>idd</td>
<td>ID Option</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
<tr>
<td>ido</td>
<td>idho</td>
<td>ID Option</td>
<td><a href="/objects/status">Object definition</a></td>
</tr>
</tbody></table>
<h2 id='fulltext-condition'>Fulltext Condition</h2>
<blockquote>
<p>To apply a Fulltext Condition to a search use the following code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
  <span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
      <span class="p">[</span>
        <span class="s1">'fulltext'</span> <span class="o">=&gt;</span> <span class="nx">\Pressmind\Search\Condition\Fulltext</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
            <span class="s1">'Italien Toskana'</span> <span class="c1">//Search terms, seperated by a space
</span>            <span class="p">[</span> <span class="c1">// An array of pressmind data fields to which the search should apply
</span>                <span class="s1">'zielgebiet_default'</span><span class="p">,</span>
                <span class="s1">'code'</span><span class="p">,</span>
                <span class="s1">'headline_default'</span><span class="p">,</span>
                <span class="s1">'leistungen_default'</span><span class="p">,</span>
                <span class="s1">'subline_default'</span><span class="p">,</span>
                <span class="s1">'beschreibung_text_default'</span>
            <span class="p">],</span>
            <span class="s1">'OR'</span> <span class="c1">// The operator used on the previeously defined data fields
</span>      <span class="p">]</span>
  <span class="p">)</span>
</code></pre>
<p><strong>Class:</strong> \Pressmind\Search\Condition\Fulltext<br>
<strong>Package:</strong> Search</p>

<p><a href="https://pressmind.io/docs/web-framework/core/php-doc/search/condition/fulltext">PHPdoc for \Pressmind\Search\Condition\Fulltext</a></p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Req.</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>searchTerms</td>
<td>string</td>
<td>x</td>
<td>Commaseparated string of search terms</td>
</tr>
<tr>
<td>properties</td>
<td>string[]</td>
<td>x</td>
<td>Array of variable names to which the search should apply</td>
</tr>
<tr>
<td>logicOperator</td>
<td>enum</td>
<td></td>
<td>Values: &#39;OR&#39;, &#39;AND&#39; defaults to &#39;OR&#39;</td>
</tr>
</tbody></table>
<h2 id='price-range'>Price Range</h2>
<blockquote>
<p>To apply a Price Range Condition to a search use the following code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">'priceRange'</span> <span class="o">=&gt;</span> <span class="nx">\Pressmind\Search\Condition\PriceRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="mi">1200</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">);</span>
</code></pre>
<p><a href="https://pressmind.io/docs/web-framework/core/php-doc/search/condition/price-range">PHPdoc for \Pressmind\Search\Condition\PriceRange</a></p>

<p>A price range condition defines the range in which a desired trip may be in, for example in the range of 200,00 to 1200,00 €</p>

<p>Kittn uses API keys to allow access to the API. You can register a new Kittn API key at our <a href="http://example.com/developers">developer portal</a>.</p>

<p>Kittn expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: meowmeowmeow</code></p>

<aside class="notice">
You must replace <code>meowmeowmeow</code> with your personal API key.
</aside>
<h2 id='duration-range'>Duration Range</h2>
<blockquote>
<p>To apply a Duration Range Condition to a search use the following code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">'durationRange'</span> <span class="o">=&gt;</span> <span class="nx">\Pressmind\Search\Condition\DurationRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">14</span><span class="p">)</span>
    <span class="p">]</span>
<span class="p">);</span>
</code></pre>
<p><a href="https://pressmind.io/docs/web-framework/core/php-doc/search/condition/duration-range">PHPdoc for \Pressmind\Search\Condition\DurationRange</a></p>

<p>A duration range condition defines the range of days in which a desired trip may be in, for example in the range of 3 to 14 days</p>
<h2 id='date-range'>Date Range</h2>
<blockquote>
<p>To apply a Date Range Condition to a search use the following code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">'dateRange'</span> <span class="o">=&gt;</span> <span class="nx">\Pressmind\Search\Condition\dateRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
            <span class="nx">\DateTime</span><span class="o">::</span><span class="na">createFromFormat</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">,</span> <span class="s1">'2020-01-01 00:00:00'</span><span class="p">),</span> <span class="c1">//start date, needs ro be of type \DateTime
</span>            <span class="nx">\DateTime</span><span class="o">::</span><span class="na">createFromFormat</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">,</span> <span class="s1">'2020-03-01 00:00:00'</span><span class="p">),</span> <span class="c1">//end date, needs ro be of type \DateTime
</span>        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>Important: The Date Range Condition expects the Dates to be objects of type \DateTime</p>
</blockquote>

<p><a href="https://pressmind.io/docs/web-framework/core/php-doc/search/condition/duration-range">PHPdoc for \Pressmind\Search\Condition\DurationRange</a></p>

<p>A duration range condition defines the range of days in which a desired trip may be in, for example in the range of 3 to 14 days</p>
<h2 id='date-range-2'>Date Range</h2>
<blockquote>
<p>To apply a Date Range Condition to a search use the following code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">'dateRange'</span> <span class="o">=&gt;</span> <span class="nx">\Pressmind\Search\Condition\dateRange</span><span class="o">::</span><span class="na">create</span><span class="p">(</span>
            <span class="nx">\DateTime</span><span class="o">::</span><span class="na">createFromFormat</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">,</span> <span class="s1">'2020-01-01 00:00:00'</span><span class="p">),</span> <span class="c1">//start date, needs ro be of type \DateTime
</span>            <span class="nx">\DateTime</span><span class="o">::</span><span class="na">createFromFormat</span><span class="p">(</span><span class="s1">'Y-m-d H:i:s'</span><span class="p">,</span> <span class="s1">'2020-03-01 00:00:00'</span><span class="p">),</span> <span class="c1">//end date, needs ro be of type \DateTime
</span>        <span class="p">)</span>
    <span class="p">]</span>
<span class="p">);</span>
</code></pre>
<blockquote>
<p>Important: The Date Range Condition expects the Dates to be objects of type \DateTime</p>
</blockquote>

<p><a href="https://pressmind.io/docs/web-framework/core/php-doc/search/condition/duration-range">PHPdoc for \Pressmind\Search\Condition\DurationRange</a></p>

<p>A duration range condition defines the range of days in which a desired trip may be in, for example in the range of 3 to 14 days</p>
<h2 id='category-search'>Category Search</h2>
<blockquote>
<p>To apply a category search use the following code:</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="nv">$search</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Search</span><span class="p">(</span>
    <span class="p">[</span>
        <span class="s1">'tourTypes'</span> <span class="o">=&gt;</span> <span class="nx">\Pressmind\Search\Condition\Category</span><span class="o">::</span><span class="na">create</span><span class="p">(</span> 
                <span class="s1">'reiseart_default'</span><span class="p">,</span> <span class="c1">//define the Pressmind variable_name under which the catagory is stored
</span>                <span class="p">[</span> <span class="c1">//The Pressmind category ids
</span>                    <span class="s1">'975D2BBC-A5BE-D851-E622-14B3A28ABE67'</span><span class="p">,</span>
                    <span class="s1">'k8532EFB8-4AE0-D041-CC42-0435DF5AB42E'</span><span class="p">,</span>
                    <span class="s1">'kB7437AFD-FF52-D228-8104-C6D348C67BDD'</span>
                <span class="p">]</span>
        <span class="p">),</span>
    <span class="p">]</span>
<span class="p">);</span>
</code></pre>
<p>Categories in Pressmind are a little bit special. If you haven&#39;t allready done so, we strongly encourage you to read the Documentation about <a href="/https://pressmind.io/docs/pressmind/basic-datastructure/category-trees">Categories</a> before you continue.</p>
<h1 id='the-restfull-api'>The RESTfull API</h1><h2 id='api-result-templates'>API Result Templates</h2>
<blockquote>
<p>Sample script for a template for MediaObjects (examples/views/MediaObjectDetail.php)</p>
</blockquote>
<pre class="highlight php tab-php"><code><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">Pressmind\Search\AbstractTemplate</span><span class="p">;</span>

<span class="sd">/**
 * Class MediaObjectDetail
 * @property \Pressmind\ORM\Object\MediaObject $_object
 */</span>
<span class="k">class</span> <span class="nc">MediaObjectDetail</span> <span class="k">extends</span> <span class="nx">AbstractTemplate</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s1">'code'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_object</span><span class="o">-&gt;</span><span class="na">code</span><span class="p">,</span> 
            <span class="s1">'id'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_object</span><span class="o">-&gt;</span><span class="na">getId</span><span class="p">(),</span>
            <span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_object</span><span class="o">-&gt;</span><span class="na">name</span>
        <span class="p">];</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>GET http://example.com/rest/mediaObject?apiTemplate=MediaObjectDetail will produce the following output:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DWSSCH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">531896</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weihnachten und Silvester in Schwaben"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CU12A"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">544557</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Cuba Colonial"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">545924</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Skiferien in Winterberg"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">545926</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mayan Discovery"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>For every API Request it is possible to define a result template. This Template is just a PHP class that has to exist in the Templates Folder as configured in config.json
This template will have the desired Object as the private property _object
You can define as many Templates as you desire, each Teamplate has to extend the class <code>Pressmind\Search\AbstractTemplate</code> and implement a function called <code>render()</code>that returns the desired output. </p>

<p>If no apiTemplate is requested, the object will be return as it is defined by the ORM Class.</p>
<h2 id='api-endpoint'>API Endpoint</h2><h2 id='general-api-calls-and-error-handling'>General API Calls and Error Handling</h2>
<blockquote>
<p>Example call for media objects with filters:</p>
</blockquote>
<pre class="highlight shell"><code>GET http://example.com/rest/mediaObject?visibility<span class="o">=</span>10&amp;id_object_type<span class="o">=</span>607

will <span class="k">return </span>only media objects with visibility of 10 and an object <span class="nb">type </span>id of 607
</code></pre>
<p>every call can have four standard parameters: </p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiTemplate</td>
<td>null</td>
<td>If set, the given apiTemplate will be renderd in the result (<a href="#api-result-templates">See API result Templates</a>)</td>
</tr>
<tr>
<td>readRelations</td>
<td>null</td>
<td>If set to true(1), the result for will include all relations for that object, not just the flat data<br>BEWARE: this may cause extreme large objects beeing returned</td>
</tr>
<tr>
<td>start</td>
<td>null</td>
<td>start parameter for the query</td>
</tr>
<tr>
<td>limit</td>
<td>null</td>
<td>limit parameter for the query</td>
</tr>
</tbody></table>

<aside class="warning">start and limit will only work if both are set  </aside>

<p>Additionally, all properties of the requested object can be passed as a parameter to filter the result</p>
<h2 id='mediaobject'>MediaObject</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl --location --request GET <span class="s1">'http://pmt2lib.local/rest/mediaObject'</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">545946</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_pool"</span><span class="p">:</span><span class="w"> </span><span class="mi">1393</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Absolute Peru"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valid_from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_client"</span><span class="p">:</span><span class="w"> </span><span class="mi">348</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">545953</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_pool"</span><span class="p">:</span><span class="w"> </span><span class="mi">1393</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bolivia Discovery"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">200</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valid_from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-16 00:00:00.000000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timezone_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Berlin"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_client"</span><span class="p">:</span><span class="w"> </span><span class="mi">348</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">545954</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_pool"</span><span class="p">:</span><span class="w"> </span><span class="mi">1393</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"End of the Earth"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valid_from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_client"</span><span class="p">:</span><span class="w"> </span><span class="mi">348</span><span class="p">,</span><span class="w">
        </span><span class="s2">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request'>HTTP Request</h3>
<p><code>GET\POST http://example.com/rest/mediaObject</code></p>
<h3 id='query-parameters'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiTemplate</td>
<td>null</td>
<td>If set, the given apiTemplate will be renderd in the result (<a href="#api-result-templates">See API result Templates</a>)</td>
</tr>
<tr>
<td>readRelations</td>
<td>null</td>
<td>If set to true(1), the result for will include all relations for that object, not just the flat data<br>BEWARE: this may cause extreme large objects beeing returned</td>
</tr>
<tr>
<td>start</td>
<td>null</td>
<td>start parameter for the query</td>
</tr>
<tr>
<td>limit</td>
<td>null</td>
<td>limit parameter for the query</td>
</tr>
<tr>
<td>id</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>id_pool</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>id_object_type</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>name</td>
<td>null</td>
<td>type: string</td>
</tr>
<tr>
<td>code</td>
<td>null</td>
<td>type: string</td>
</tr>
<tr>
<td>visibility</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>state</td>
<td>null</td>
<td>type: integer</td>
</tr>
</tbody></table>

<p><code>POST http://example.com/rest/mediaObject</code></p>
<h3 id='raw-body'>Raw Body</h3>
<blockquote>
<p>Example Body for POST Request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"apiTemplate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MediaObjectDetail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_pool"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New Media Object"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABC123"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>all parameters can also be posted in the requests body as raw json</p>
<h3 id='get-media-object-by-route'>Get Media Object By Route</h3>
<p><code>POST http://pmt2lib.local/rest/mediaObject/getByRoute</code></p>
<h3 id='query-parameters-2'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>route</td>
<td>required</td>
<td>Type: string</td>
</tr>
<tr>
<td>id_object_type</td>
<td>null</td>
<td>Type: integer</td>
</tr>
<tr>
<td>language</td>
<td>null</td>
<td>Type: string</td>
</tr>
<tr>
<td>visibility</td>
<td>null</td>
<td>Type: integer</td>
</tr>
<tr>
<td>readRelations</td>
<td>null</td>
<td>If set to true(1), the result for will include all relations for that object, not just the flat data<br>BEWARE: this may cause extreme large objects beeing returned</td>
</tr>
</tbody></table>

<blockquote>
<p>POST Body Example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/reise/magisches-schottland/"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"readRelations"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1018820</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_pool"</span><span class="p">:</span><span class="w"> </span><span class="mi">1393</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Magisches Schottland"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sommer 2019"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"visibility"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state"</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">
    </span><span class="s2">"valid_from"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-01-10 00:00:00.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Berlin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"valid_to"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2019-08-12 00:00:00.000000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
        </span><span class="s2">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Europe/Berlin"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"id_client"</span><span class="p">:</span><span class="w"> </span><span class="mi">348</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hidden"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"routes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w">
            </span><span class="s2">"route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/reise/magisches-schottland/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1018820</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">388</span><span class="p">,</span><span class="w">
            </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1018820</span><span class="p">,</span><span class="w">
            </span><span class="s2">"headline_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Magisches Schottland&lt;/p&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"leistungen_headline_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Unsere Leistungen&lt;/p&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"subline_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Wohnen, wie im Märchenschloss  - Die Highlands zur schönsten Zeit -  Einzigartiges Edinburgh Tattoo&lt;/p&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"leistungen_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"meta_description_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"datum_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"einleitung_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"meta_keywords_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"beschreibung_headline_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;p&gt;Reiseverlauf&lt;/p&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"meta_robots_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"beschreibung_text_default"</span><span class="p">:</span><span class="w"> </span><span class="s2">"..."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"meta_revisit_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"header_source_code_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"meta_canonical_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"footer_source_code_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url_default"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h2 id='categorytree'>CategoryTree</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl --location --request GET <span class="s1">'http://pmt2lib.local/rest/categoryTree'</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1203</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Optionen"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saison"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<blockquote>
<p>Detailed Request for one Tree with parameter readRelations set to true</p>
</blockquote>
<pre class="highlight shell"><code>curl --location --request GET <span class="s1">'http://pmt2lib.local/rest/categoryTree?id=1207&amp;readRelations=1'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1204</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Saison"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6618EC4A-E4B3-4E18-71EE-14B10181C1A3"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_parent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_tree"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1204"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sommer 2016"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dynamic_values"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03E5A7DF-D822-F445-D003-14B126D16B81"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_parent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_tree"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1204"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sommer 2017"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dynamic_values"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CF2FE23D-72EA-A313-D00F-14B129ECD40B"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_parent"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_tree"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1204"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sommer 2018"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"dynamic_values"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sort"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"children"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">...</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET\POST http://example.com/rest/categoryTree</code></p>
<h3 id='query-parameters-3'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiTemplate</td>
<td>null</td>
<td>If set, the given apiTemplate will be renderd in the result (<a href="#api-result-templates">See API result Templates</a>)</td>
</tr>
<tr>
<td>readRelations</td>
<td>null</td>
<td>If set to true(1), the result for will include all relations for that object, not just the flat data<br>BEWARE: this may cause extreme large objects beeing returned</td>
</tr>
<tr>
<td>start</td>
<td>null</td>
<td>start parameter for the query</td>
</tr>
<tr>
<td>limit</td>
<td>null</td>
<td>limit parameter for the query</td>
</tr>
<tr>
<td>id</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>name</td>
<td>null</td>
<td>type: string</td>
</tr>
</tbody></table>

<p><code>POST http://example.com/rest/mediaObject</code></p>
<h3 id='raw-body-2'>Raw Body</h3>
<blockquote>
<p>Example Body for POST Request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"apiTemplate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MediaObjectDetail"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Optionen"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>all parameters can also be posted in the requests body as raw json</p>
<h2 id='route'>Route</h2>
<blockquote>
<p>Request</p>
</blockquote>
<pre class="highlight shell"><code>curl --location --request GET <span class="s1">'http://pmt2lib.local/rest/route'</span>
</code></pre>
<blockquote>
<p>Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">284</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/reise/magisches-schottland/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1018820</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
        </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">285</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/urls/test-url/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1028507</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">1384</span><span class="p">,</span><span class="w">
        </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">287</span><span class="p">,</span><span class="w">
        </span><span class="s2">"route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/reise/junges-strassburg-und-guter-wein-/"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1077956</span><span class="p">,</span><span class="w">
        </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">607</span><span class="p">,</span><span class="w">
        </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre><h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET\POST http://example.com/rest/route</code></p>
<h3 id='query-parameters-4'>Query Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>apiTemplate</td>
<td>null</td>
<td>If set, the given apiTemplate will be renderd in the result (<a href="#api-result-templates">See API result Templates</a>)</td>
</tr>
<tr>
<td>readRelations</td>
<td>null</td>
<td>If set to true(1), the result for will include all relations for that object, not just the flat data<br>BEWARE: this may cause extreme large objects beeing returned</td>
</tr>
<tr>
<td>start</td>
<td>null</td>
<td>start parameter for the query</td>
</tr>
<tr>
<td>limit</td>
<td>null</td>
<td>limit parameter for the query</td>
</tr>
<tr>
<td>id</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>route</td>
<td>null</td>
<td>type: string</td>
</tr>
<tr>
<td>id_media_object</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>id_object_type</td>
<td>null</td>
<td>type: integer</td>
</tr>
<tr>
<td>language</td>
<td>null</td>
<td>type: string</td>
</tr>
</tbody></table>

<p><code>POST http://example.com/rest/mediaObject</code></p>
<h3 id='raw-body-3'>Raw Body</h3>
<blockquote>
<p>Example Body for POST Request</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">12345</span><span class="p">,</span><span class="w">
    </span><span class="s2">"route"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Optionen"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_media_object"</span><span class="p">:</span><span class="w"> </span><span class="mi">1234567</span><span class="p">,</span><span class="w">
    </span><span class="s2">"id_object_type"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"language"</span><span class="p">:</span><span class="w"> </span><span class="s2">"de"</span><span class="p">,</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>all parameters can also be posted in the requests body as raw json</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">Example Code</a>
          </div>
      </div>
    </div>
  </body>
</html>
